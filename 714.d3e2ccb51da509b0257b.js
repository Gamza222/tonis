"use strict";(self.webpackChunkTonito=self.webpackChunkTonito||[]).push([[714],{6714:(e,t,n)=>{n.r(t),n.d(t,{default:()=>Q});var r=n(6540);const o={LoginPage:"iotVkJQN",LoginPage__content:"NTJVgCxV",LoginPage__content__logo:"ZQryunNU",LoginPage__content__logo__pic:"ekQTwW2i",LoginPage__content__title:"Pl1MwYzf",LoginPage__content__buttons:"rz1A0dGk",LoginPageSlide:"RPwlHm9F",animatedGradient:"zdwQAaxg",slide:"uipZrjQw"};var a=n(2474);function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a,i,c=[],l=!0,u=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(c.push(r.value),c.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw o}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}const l=function(e){var t=e.children,n=e.reducers,o=e.removeAfterUnmount,c=(0,a.Pj)(),l=(0,a.wA)();return(0,r.useEffect)((function(){return Object.entries(n).forEach((function(e){var t=i(e,2),n=t[0],r=t[1];c.reducerManager.add(n,r),l({type:"@INIT ".concat(n," Reducer")})})),function(){Object.entries(n).forEach((function(e){var t=i(e,2),n=t[0];t[1],o&&(c.reducerManager.remove(n),l({type:"@DESTROY ".concat(n," Reducer")}))}))}}),[]),r.createElement(r.Fragment,null,t)};var u=n(5534),s=n(7625);const f=n.p+"936661f7d80e27eecc402b250bf78e11.png";var m=n(7101),d=n(2389);var v=n(1351);const b=function(e){var t=e.className,n=e.backFunc,o=(0,d.Bd)().t;return r.createElement("button",{className:(0,m.x)("Wy0wGchw",{},[t]),onClick:function(){n()}},r.createElement(v.pRN,null),r.createElement("p",null,o("Back")))};var y=n(658),g=n(865),p=n(6053);function h(e){return h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},h(e)}function _(e,t,n){var r;return r=function(e,t){if("object"!=h(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=h(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(t),(t="symbol"==h(r)?r:r+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const E=function(e){var t=e.className,n=e.placeholder,o=e.value,a=e.active,i=e.autoFocus,c=e.maxLength,l=e.error,u=e.isLoading,s=void 0!==u&&u,f=e.onClearInput,v=e.handleChange,b=e.onFocus,h=e.onBlur,E=_(_({},"LHWBcyOZ",!a),"n9ScmVi4",l),S=(0,d.Bd)().t;return r.createElement("div",{className:(0,m.x)("royEZWnn",{},[t])},r.createElement("div",{className:"mvDfu5EO"},r.createElement(g.A,{error:Boolean(l),className:"mdlkLgdC",fullWidth:!0,label:n,variant:"outlined",type:"search",inputProps:{maxLength:c},onChange:function(e){return v(e)},onBlur:h,onFocus:b,value:o,autoFocus:i}),o&&!s&&r.createElement("div",{className:"MrKhMeAa"},r.createElement("button",{className:(0,m.x)("O7p6TeTM",Object.assign({},E),[]),onClick:f},r.createElement(y.jZb,{className:"b0OU4hMN"}))),s&&r.createElement(p.A,{className:"owHGLAcI"})),l&&r.createElement("p",{className:"gCmEHHyA"},S(l)," !"))};var S=n(9630),C=n(5713),w=n(9541),A=n(6814),j=n(6962);const N=e=>{(0,r.useEffect)((()=>e()),[])},k=window.Telegram.WebApp,B=(j.i,j.d,e=>{N((()=>(k.BackButton.show(),k.BackButton.onClick(e),()=>{k.BackButton.offClick(e),k.BackButton.hide()})))});var L=n(6933);const O=window.Telegram.WebApp;let P=!1;const M=(j.i,j.d,(e,t,n)=>{const r=()=>{(()=>{if("ios"!==O.platform&&"android"!==O.platform)return O.MainButton.hide(),void(P=!1);P=!1,setTimeout((()=>{P||(O.MainButton.hide(),P=!1)}),100)})(),O.MainButton.offClick(t),O.MainButton.hideProgress()};N((()=>{if(void 0===n||n())return P=!0,O.MainButton.show(),O.MainButton.setText("string"==typeof e?e:e()),O.MainButton.onClick(t),()=>{r()};r()})),(0,L.vC)("enter",(()=>{(void 0===n||n())&&t()}))});var T=n(5941);function I(e){return I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},I(e)}function x(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a,i,c=[],l=!0,u=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(c.push(r.value),c.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw o}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return F(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?F(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function F(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}const U=function(e){var t=e.className,n=e.visible,o=e.onClose,i=e.onSliding,c=(0,d.Bd)("login").t,l=(0,S.j)(),u=(0,a.d4)(w.q),s=x((0,r.useState)(!1),2),f=s[0],v=s[1],y=x((0,r.useState)(!1),2),g=y[0],p=y[1],h=x((0,r.useState)(""),2),_=(h[0],h[1],(0,r.useRef)(null)),j=(0,r.useCallback)((function(e){l(C.Wc.setUserCode(e.target.value))}),[l]),N=(0,r.useCallback)((function(){l(C.Wc.clearUserCode())}),[l]),k=function(){p(!0),i(!1),_.current=setTimeout((function(){o(),p(!1)}),200)},L=(0,r.useCallback)((function(e){e&&e.preventDefault();var t=null==u?void 0:u.code;l((0,A.r)({code:t}))}),[l,u]);(0,r.useEffect)((function(){(null==u?void 0:u.success)&&k()}),[null==u?void 0:u.success]),(0,r.useEffect)((function(){n&&p(!1)}),[n]),(0,r.useEffect)((function(){return l(T.Gd.setNavbarClosed(!0)),function(){l(T.Gd.setNavbarClosed(!1))}}),[]);var O,P,F,U,W=(O={},F=g,U=function(e,t){if("object"!=I(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=I(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(P="_M7ill3j"),(P="symbol"==I(U)?U:U+"")in O?Object.defineProperty(O,P,{value:F,enumerable:!0,configurable:!0,writable:!0}):O[P]=F,O);return B((function(){k()})),M(c("Check code"),(function(){L()})),r.createElement("div",{className:(0,m.x)("HecLABnp",Object.assign({},W),[t])},r.createElement("div",{className:"yfOU3BfA"},r.createElement(b,{backFunc:k}),r.createElement("form",{onSubmit:function(e){return L(e)},id:"inviteCode"},r.createElement(E,{className:"Mr0VpXDj",active:f,value:(null==u?void 0:u.code)||"",placeholder:c("Input invite code"),maxLength:10,error:null==u?void 0:u.error,isLoading:null==u?void 0:u.isLoading,onClearInput:N,handleChange:j,onFocus:function(){v(!0)},onBlur:function(){v(!1)},autoFocus:!0}))))};var W=n(5472);function G(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a,i,c=[],l=!0,u=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(c.push(r.value),c.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw o}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return H(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?H(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function H(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var R={};const Q=function(e){e.className;var t=(0,d.Bd)("login").t,n=G((0,r.useState)(!1),2),i=n[0],c=n[1],v=G((0,r.useState)(!1),2),b=v[0],y=v[1],g=(0,a.d4)(W.J),p=(0,a.d4)(w.q),h=(0,r.useCallback)((function(){(null==p?void 0:p.success)||i||(c(!0),y(!0))}),[c,i,p]),_=(0,r.useCallback)((function(e){y(e)}),[c,i,y,b]),E=(0,r.useCallback)((function(){c(!1)}),[c,i]);return r.createElement(l,{reducers:R,removeAfterUnmount:!0},i&&r.createElement(U,{visible:i,onClose:E,onSliding:_}),r.createElement("div",{className:(0,m.x)(o.LoginPage,Object.assign({},{}),[])},r.createElement("div",{className:o.LoginPage__content},r.createElement("div",{className:o.LoginPage__content__logo},r.createElement("img",{src:f,alt:"Logo",className:o.LoginPage__content__logo__pic})),r.createElement("h1",{className:o.LoginPage__content__title},t("Welcome to Obelisk")),r.createElement("div",{className:o.LoginPage__content__buttons},r.createElement(s.A,{loading:g.isLoading},r.createElement(u.A,{className:o.LoginPage__content__buttons__btn,text:p.success&&(null==p?void 0:p.code)?null==p?void 0:p.code:t("Input Invite Code"),onClick:h}))))))}}}]);